<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Media Vault ‚Äî Magazine</title>
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
:root {
  --bg: #f9f8f6;
  --ink: #0f1117;
  --muted: #6b7280;
  --subtle: #9ca3af;
  --card: #ffffff;
  --line: #e8e8ea;
  --accent: #1a1a2e;
  --gold: #c9a84c;
  --blue: #1d4ed8;
  --green: #059669;
  --red: #dc2626;
  --orange: #d97706;
  --hero-bg: linear-gradient(135deg, #0f1117 0%, #1a1a2e 50%, #0f1117 100%);
}
html { scroll-behavior: smooth; }
body {
  font-family: 'Segoe UI', Georgia, serif;
  background: var(--bg);
  color: var(--ink);
  overflow-x: hidden;
}

/* ‚îÄ‚îÄ‚îÄ FLOATING NAV ‚îÄ‚îÄ‚îÄ */
.float-nav {
  position: fixed;
  top: 16px; left: 50%;
  transform: translateX(-50%);
  z-index: 200;
  background: rgba(15, 17, 23, 0.9);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 999px;
  padding: 8px 20px;
  display: flex;
  align-items: center;
  gap: 16px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  transition: all 0.3s;
}
.fn-logo {
  font-weight: 900;
  font-size: 14px;
  color: white;
  letter-spacing: -0.5px;
  text-decoration: none;
  white-space: nowrap;
}
.fn-gold { color: var(--gold); }
.fn-links {
  display: flex;
  gap: 2px;
}
.fn-link {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
  border: none;
  background: transparent;
  color: rgba(255,255,255,0.6);
  transition: all 0.2s;
  white-space: nowrap;
}
.fn-link:hover, .fn-link.active { background: rgba(255,255,255,0.1); color: white; }
.fn-right { display: flex; align-items: center; gap: 8px; margin-left: 8px; }
.fn-pill {
  padding: 5px 12px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 700;
  cursor: pointer;
  border: none;
  transition: all 0.2s;
  white-space: nowrap;
}
.fn-pill-ghost {
  background: rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.7);
  border: 1px solid rgba(255,255,255,0.12);
}
.fn-pill-ghost:hover { background: rgba(255,255,255,0.14); color: white; }
.fn-pill-gold {
  background: var(--gold);
  color: #0f1117;
  box-shadow: 0 2px 10px rgba(201,168,76,0.4);
}
.fn-pill-gold:hover { transform: scale(1.05); box-shadow: 0 4px 16px rgba(201,168,76,0.5); }

/* ‚îÄ‚îÄ‚îÄ DOT NAV ‚îÄ‚îÄ‚îÄ */
.dot-nav {
  position: fixed;
  right: 20px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 150;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.dn {
  width: 8px; height: 8px;
  border-radius: 50%;
  background: rgba(0,0,0,0.2);
  cursor: pointer;
  transition: all 0.3s;
  border: none;
}
.dn:hover, .dn.active { background: var(--accent); transform: scale(1.4); }

/* ‚îÄ‚îÄ‚îÄ HERO SECTION ‚îÄ‚îÄ‚îÄ */
.hero {
  min-height: 100vh;
  background: var(--hero-bg);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 80px 40px 60px;
  position: relative;
  overflow: hidden;
  text-align: center;
}

.hero::before {
  content: '';
  position: absolute; inset: 0;
  background:
    radial-gradient(ellipse at 20% 50%, rgba(201,168,76,0.08) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 30%, rgba(29,78,216,0.08) 0%, transparent 60%);
  pointer-events: none;
}

.hero-eyebrow {
  font-size: 10px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: var(--gold);
  margin-bottom: 20px;
  opacity: 0;
  animation: fadeUp 0.6s 0.2s ease forwards;
}

.hero-h1 {
  font-size: clamp(2.8rem, 6vw, 5rem);
  font-weight: 900;
  color: white;
  line-height: 1.05;
  letter-spacing: -0.03em;
  margin-bottom: 16px;
  opacity: 0;
  animation: fadeUp 0.7s 0.35s ease forwards;
}

.hero-h1 em { color: var(--gold); font-style: normal; }

.hero-sub {
  font-size: 15px;
  color: rgba(255,255,255,0.55);
  max-width: 480px;
  line-height: 1.6;
  margin-bottom: 48px;
  opacity: 0;
  animation: fadeUp 0.7s 0.5s ease forwards;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(24px); }
  to { opacity: 1; transform: translateY(0); }
}

/* VAULT FORM */
.vault-form {
  width: 100%;
  max-width: 580px;
  opacity: 0;
  animation: fadeUp 0.7s 0.65s ease forwards;
  position: relative;
  z-index: 2;
}

.vault-shell {
  position: relative;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 16px;
  padding: 4px;
  transition: all 0.3s;
  box-shadow: 0 0 40px rgba(0,0,0,0.3);
}

.vault-shell:focus-within {
  border-color: var(--gold);
  box-shadow: 0 0 0 3px rgba(201,168,76,0.15), 0 0 60px rgba(201,168,76,0.1);
  background: rgba(255,255,255,0.07);
}

.vault-inp {
  width: 100%;
  padding: 18px 130px 18px 20px;
  background: transparent;
  border: none;
  outline: none;
  color: white;
  font-size: 15px;
  font-weight: 500;
}

.vault-inp::placeholder { color: rgba(255,255,255,0.35); font-size: 13px; }

.vault-btn {
  position: absolute;
  right: 6px;
  top: 50%;
  transform: translateY(-50%);
  padding: 12px 20px;
  border-radius: 12px;
  background: var(--gold);
  color: #0f1117;
  border: none;
  font-size: 12px;
  font-weight: 800;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
  box-shadow: 0 2px 12px rgba(201,168,76,0.4);
}

.vault-btn:hover { transform: translateY(-50%) scale(1.04); box-shadow: 0 4px 20px rgba(201,168,76,0.6); }
.vault-btn:active { transform: translateY(-50%) scale(0.97); }

.vault-platforms {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 14px;
}

.vp-tag {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 700;
  background: rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.5);
  border: 1px solid rgba(255,255,255,0.1);
  cursor: pointer;
  transition: all 0.2s;
}

.vp-tag.on {
  background: rgba(201,168,76,0.15);
  color: var(--gold);
  border-color: rgba(201,168,76,0.3);
}

.vp-tag:hover { background: rgba(255,255,255,0.12); color: white; }

/* HERO STATS */
.hero-stats {
  display: flex;
  gap: 36px;
  margin-top: 60px;
  opacity: 0;
  animation: fadeUp 0.7s 0.8s ease forwards;
}
.hstat {
  text-align: center;
  cursor: pointer;
  transition: transform 0.2s;
}
.hstat:hover { transform: scale(1.1); }
.hstat-v {
  font-size: 2.4rem;
  font-weight: 900;
  color: white;
  letter-spacing: -0.04em;
  line-height: 1;
  margin-bottom: 4px;
}
.hstat-l {
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: rgba(255,255,255,0.4);
}
.hstat-v.gold { color: var(--gold); }

.scroll-hint {
  position: absolute;
  bottom: 28px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  opacity: 0;
  animation: fadeUp 0.7s 1.2s ease forwards;
  cursor: pointer;
}
.scroll-hint span { font-size: 9px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.12em; color: rgba(255,255,255,0.3); }
.scroll-arrow { width: 1px; height: 32px; background: linear-gradient(180deg, rgba(255,255,255,0.3), transparent); animation: scrollPulse 2s ease-in-out infinite; }
@keyframes scrollPulse { 0%,100%{opacity:.4;transform:scaleY(1)} 50%{opacity:1;transform:scaleY(1.2)} }

/* ‚îÄ‚îÄ‚îÄ SECTION BASE ‚îÄ‚îÄ‚îÄ */
.section {
  padding: 80px 40px;
  max-width: 1200px;
  margin: 0 auto;
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}
.section.visible { opacity: 1; transform: translateY(0); }
.section-wrap { width: 100%; overflow-x: visible; }

.sec-eyebrow {
  font-size: 10px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.16em;
  color: var(--muted);
  margin-bottom: 10px;
}

.sec-h2 {
  font-size: clamp(1.6rem, 3.5vw, 2.6rem);
  font-weight: 900;
  letter-spacing: -0.03em;
  color: var(--ink);
  line-height: 1.1;
  margin-bottom: 8px;
}

.sec-sub {
  font-size: 14px;
  color: var(--muted);
  max-width: 480px;
  line-height: 1.6;
  margin-bottom: 40px;
}

/* ‚îÄ‚îÄ‚îÄ ACTIVE DOWNLOADS ‚îÄ‚îÄ‚îÄ */
.active-section { background: #fff; padding: 80px 0; }
.active-inner { max-width: 1200px; margin: 0 auto; padding: 0 40px; }
.active-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
  gap: 20px;
  margin-top: 40px;
}

.job-card {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;
}

.job-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px rgba(0,0,0,0.12);
  border-color: #d0d5dd;
}

.job-card.selected { border-color: var(--blue); box-shadow: 0 0 0 2px rgba(29,78,216,0.15); }

.jcard-status-bar {
  height: 3px;
  width: 100%;
}
.jcard-status-bar.queued { background: linear-gradient(90deg, #93c5fd, #60a5fa); }
.jcard-status-bar.running { background: linear-gradient(90deg, #fbbf24, #f59e0b); animation: bar-shimmer 2s linear infinite; background-size: 200% 100%; }
@keyframes bar-shimmer { 0%{background-position:200%} 100%{background-position:-200%} }
.jcard-status-bar.completed { background: linear-gradient(90deg, #6ee7b7, #34d399); }
.jcard-status-bar.failed { background: linear-gradient(90deg, #fca5a5, #f87171); }

.jcard-body { padding: 20px; }
.jcard-top { display: flex; align-items: flex-start; gap: 14px; margin-bottom: 14px; }
.jcard-thumb {
  width: 60px; height: 60px;
  border-radius: 10px;
  background: #f3f4f6;
  display: flex; align-items: center; justify-content: center;
  font-size: 26px;
  flex-shrink: 0;
}
.jcard-meta { flex: 1; min-width: 0; }
.jcard-creator {
  font-size: 10px; font-weight: 800;
  text-transform: uppercase; letter-spacing: 0.08em;
  color: var(--blue); margin-bottom: 3px;
}
.jcard-title {
  font-size: 15px; font-weight: 700;
  color: var(--ink); line-height: 1.3;
  margin-bottom: 4px;
}
.jcard-url {
  font-size: 11px; color: var(--muted);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.jcard-check {
  width: 18px; height: 18px;
  border-radius: 5px;
  border: 1.5px solid var(--line);
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
  transition: all 0.15s;
  margin-top: 2px;
  background: white;
}
.job-card.selected .jcard-check { background: var(--blue); border-color: var(--blue); color: white; }
.jcard-check::after { content:'‚úì'; font-size:11px; font-weight:800; opacity:0; transition:opacity .15s; }
.job-card.selected .jcard-check::after { opacity:1; }

.jcard-pills { display: flex; align-items: center; gap: 6px; flex-wrap: wrap; margin-bottom: 12px; }
.jcard-pill {
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
}
.pill-x { background: #f3f4f6; color: #374151; }
.pill-tiktok { background: #fdf4ff; color: #9333ea; }
.pill-status-queued { background: #eff6ff; color: var(--blue); }
.pill-status-running { background: #fffbeb; color: var(--orange); }
.pill-status-completed { background: #ecfdf5; color: var(--green); }
.pill-status-failed { background: #fef2f2; color: var(--red); }
.pill-time { background: #f9fafb; color: var(--muted); }

.jcard-prog-wrap { height: 6px; background: #f3f4f6; border-radius: 999px; overflow: hidden; margin-bottom: 12px; }
.jcard-prog-fill { height: 100%; border-radius: 999px; background: linear-gradient(90deg, #fbbf24, #f59e0b); transition: width 0.5s; }

.jcard-actions { display: flex; gap: 6px; opacity: 0; transition: opacity 0.2s; }
.job-card:hover .jcard-actions { opacity: 1; }
.jcard-act {
  padding: 6px 12px;
  border-radius: 7px;
  font-size: 11px; font-weight: 700;
  cursor: pointer;
  border: 1px solid var(--line);
  background: white;
  color: var(--muted);
  transition: all 0.15s;
}
.jcard-act:hover { background: #f9fafb; color: var(--ink); border-color: #d0d5dd; }
.jcard-act.primary { background: var(--blue); color: white; border-color: var(--blue); }
.jcard-act.primary:hover { background: #1e40af; }
.jcard-act.danger:hover { background: #fef2f2; color: var(--red); border-color: #fca5a5; }

/* ‚îÄ‚îÄ‚îÄ GALLERY SECTION ‚îÄ‚îÄ‚îÄ */
.gallery-section { background: var(--ink); padding: 80px 0; }
.gallery-inner { max-width: 1200px; margin: 0 auto; padding: 0 40px; }
.gallery-section .sec-eyebrow { color: rgba(255,255,255,0.4); }
.gallery-section .sec-h2 { color: white; }
.gallery-section .sec-sub { color: rgba(255,255,255,0.5); }

.gallery-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px;
  margin-top: 40px;
}

.gallery-item {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 14px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s;
  opacity: 0;
  transform: translateY(20px);
  animation-fill-mode: forwards;
}

.gallery-item.reveal { opacity: 1; transform: translateY(0); }

.gallery-item:hover {
  transform: translateY(-3px) scale(1.01);
  border-color: rgba(255,255,255,0.14);
  box-shadow: 0 8px 28px rgba(0,0,0,0.4);
}

.gi-thumb {
  width: 100%; aspect-ratio: 16/9;
  background: linear-gradient(135deg, #1a1a2e, #2d2d44);
  display: flex; align-items: center; justify-content: center;
  font-size: 36px;
  position: relative;
  overflow: hidden;
}

.gi-thumb::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(180deg, transparent 50%, rgba(0,0,0,0.6));
}

.gi-overlay {
  position: absolute;
  bottom: 0; left: 0; right: 0;
  padding: 10px 12px;
  z-index: 2;
}

.gi-creator { font-size: 9px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gold); }
.gi-title { font-size: 11px; font-weight: 700; color: white; line-height: 1.3; }

.gi-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
}

.gi-size { font-size: 10px; color: rgba(255,255,255,0.4); }
.gi-dl {
  width: 26px; height: 26px;
  border-radius: 7px;
  background: rgba(255,255,255,0.08);
  display: flex; align-items: center; justify-content: center;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.15s;
}
.gi-dl:hover { background: rgba(255,255,255,0.16); transform: scale(1.1); }

/* ‚îÄ‚îÄ‚îÄ CREATORS SECTION ‚îÄ‚îÄ‚îÄ */
.creators-section { background: var(--bg); padding: 80px 0; }
.creators-inner { max-width: 1200px; margin: 0 auto; padding: 0 40px; }
.creators-scroll { display: flex; gap: 16px; overflow-x: auto; padding-bottom: 8px; margin-top: 40px; scroll-snap-type: x mandatory; scrollbar-width: thin; }
.creator-card {
  flex-shrink: 0;
  width: 200px;
  background: white;
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.3s;
  scroll-snap-align: start;
  text-align: center;
  opacity: 0;
  transform: translateX(20px);
  animation-fill-mode: forwards;
}
.creator-card.reveal { opacity: 1; transform: translateX(0); }
.creator-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px rgba(0,0,0,0.10);
  border-color: #c0c9d4;
}
.creator-av {
  width: 64px; height: 64px;
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 22px; font-weight: 800; color: white;
  margin: 0 auto 12px;
  box-shadow: 0 4px 14px rgba(0,0,0,0.2);
}
.creator-name { font-size: 14px; font-weight: 800; margin-bottom: 2px; }
.creator-handle { font-size: 11px; color: var(--muted); margin-bottom: 12px; }
.creator-stats { display: flex; gap: 0; border-top: 1px solid var(--line); padding-top: 12px; }
.cstat-box { flex: 1; text-align: center; }
.cstat-v2 { font-size: 18px; font-weight: 900; color: var(--ink); }
.cstat-l2 { font-size: 9px; color: var(--muted); text-transform: uppercase; letter-spacing: 0.06em; }
.creator-platform {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 9px;
  font-weight: 700;
  margin-bottom: 12px;
}
.creator-platform.x { background: #f3f4f6; color: #374151; }
.creator-platform.tiktok { background: #fdf4ff; color: #9333ea; }

/* ‚îÄ‚îÄ‚îÄ ACTIVITY SECTION ‚îÄ‚îÄ‚îÄ */
.activity-section { background: #fff; padding: 80px 0; border-top: 1px solid var(--line); }
.activity-inner { max-width: 1200px; margin: 0 auto; padding: 0 40px; }
.activity-grid {
  display: grid;
  grid-template-columns: 1fr 360px;
  gap: 32px;
  margin-top: 40px;
}
.timeline { display: flex; flex-direction: column; gap: 0; }
.tl-item {
  display: flex;
  gap: 16px;
  padding: 14px 0;
  border-bottom: 1px solid var(--line);
  opacity: 0;
  transform: translateX(-16px);
  transition: opacity 0.4s ease, transform 0.4s ease;
  cursor: pointer;
}
.tl-item.reveal { opacity: 1; transform: translateX(0); }
.tl-item:hover { background: linear-gradient(90deg, #f9fafb, transparent); margin: 0 -8px; padding: 14px 8px; border-radius: 8px; border-bottom-color: transparent; }
.tl-dot-col { display: flex; flex-direction: column; align-items: center; gap: 0; flex-shrink: 0; padding-top: 4px; }
.tl-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
.tl-line { width: 1px; flex: 1; background: var(--line); margin-top: 4px; min-height: 20px; }
.tl-content { flex: 1; }
.tl-icon { font-size: 16px; margin-right: 4px; }
.tl-text { font-size: 13px; font-weight: 600; line-height: 1.4; margin-bottom: 2px; }
.tl-time { font-size: 10px; color: var(--muted); }
.tl-dot.success { background: var(--green); }
.tl-dot.info { background: var(--blue); }
.tl-dot.error { background: var(--red); }
.tl-dot.warn { background: var(--orange); }

/* ACTIVITY SIDEBAR */
.activity-sidebar { position: sticky; top: 80px; align-self: start; }
.act-card {
  background: var(--ink);
  color: white;
  border-radius: 16px;
  padding: 24px;
}
.act-card-title { font-size: 13px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; color: rgba(255,255,255,0.4); margin-bottom: 16px; }
.act-kpi { margin-bottom: 20px; }
.act-kpi-v { font-size: 2.8rem; font-weight: 900; color: var(--gold); letter-spacing: -0.04em; line-height: 1; }
.act-kpi-l { font-size: 11px; color: rgba(255,255,255,0.4); margin-top: 3px; }
.act-bar { height: 4px; border-radius: 999px; background: rgba(255,255,255,0.08); margin-bottom: 6px; overflow: hidden; }
.act-bar-fill { height: 100%; border-radius: 999px; background: var(--gold); }
.act-bar-row { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; }
.act-bar-lbl { font-size: 10px; color: rgba(255,255,255,0.5); width: 70px; flex-shrink: 0; }
.act-bar-pct { font-size: 10px; font-weight: 700; color: rgba(255,255,255,0.5); }

/* ‚îÄ‚îÄ‚îÄ PLATFORM TOGGLES SECTION ‚îÄ‚îÄ‚îÄ */
.settings-section { background: var(--bg); padding: 60px 0; border-top: 1px solid var(--line); }
.settings-inner { max-width: 1200px; margin: 0 auto; padding: 0 40px; }
.settings-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 16px; margin-top: 32px; }
.setting-card {
  background: white;
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 20px;
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  transition: all 0.2s;
}
.setting-card:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,0.07); }
.setting-ico { width: 44px; height: 44px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; flex-shrink: 0; }
.setting-info { flex: 1; }
.setting-name { font-size: 14px; font-weight: 700; }
.setting-desc { font-size: 11px; color: var(--muted); }
.tgl { position:relative; display:inline-block; width:38px; height:21px; flex-shrink:0; }
.tgl input { opacity:0; width:0; height:0; }
.tgl-tr { position:absolute; cursor:pointer; inset:0; background:#d1d5db; border-radius:10px; transition:.2s; }
.tgl-tr::before { position:absolute; content:""; height:15px; width:15px; left:3px; bottom:3px; background:#fff; border-radius:50%; transition:.2s; box-shadow:0 1px 3px rgba(0,0,0,.2); }
input:checked+.tgl-tr { background:var(--blue); }
input:checked+.tgl-tr::before { transform:translateX(17px); }

/* ‚îÄ‚îÄ‚îÄ BULK BAR ‚îÄ‚îÄ‚îÄ */
.bulk-bar {
  position: fixed;
  bottom: -80px;
  left: 50%; transform: translateX(-50%);
  background: var(--ink);
  color: white;
  border-radius: 999px;
  padding: 12px 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  z-index: 300;
  transition: bottom 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  white-space: nowrap;
}
.bulk-bar.on { bottom: 20px; }
.bbcnt { font-size: 12px; font-weight: 700; background: rgba(255,255,255,0.12); padding: 3px 10px; border-radius: 999px; }
.bbbtn { padding: 6px 12px; border-radius: 999px; font-size: 11px; font-weight: 700; cursor: pointer; border: none; transition: all 0.15s; }
.bbbtn-del { background: var(--red); color: white; }
.bbbtn-del:hover { background: #b91c1c; }
.bbbtn-retry { background: var(--blue); color: white; }
.bbbtn-retry:hover { background: #1e40af; }
.bbbtn-cancel { background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.7); }
.bbbtn-cancel:hover { background: rgba(255,255,255,0.18); }

/* ‚îÄ‚îÄ‚îÄ PROFILE MODAL ‚îÄ‚îÄ‚îÄ */
.overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); backdrop-filter: blur(8px); z-index: 400; display: none; align-items: center; justify-content: center; padding: 20px; }
.overlay.open { display: flex; }
.modal { background: white; border-radius: 20px; width: 100%; max-width: 680px; max-height: 82vh; overflow: hidden; display: flex; flex-direction: column; box-shadow: 0 24px 60px rgba(0,0,0,0.25); animation: mdin .3s cubic-bezier(.34,1.4,.64,1); }
@keyframes mdin { from{opacity:0;transform:scale(.92) translateY(18px)} to{opacity:1;transform:scale(1) translateY(0)} }
.m-hd { display: flex; align-items: center; gap: 14px; padding: 20px 24px; border-bottom: 1px solid var(--line); }
.m-av { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: white; }
.m-name { font-size: 17px; font-weight: 800; }
.m-sub { font-size: 12px; color: var(--muted); }
.m-stats { display: flex; gap: 20px; margin-left: auto; }
.msv { font-size: 19px; font-weight: 900; color: var(--blue); text-align: center; }
.msl { font-size: 9px; color: var(--muted); text-transform: uppercase; letter-spacing: 0.08em; text-align: center; }
.m-close { margin-left: 12px; background: #f3f4f6; border: none; width: 32px; height: 32px; border-radius: 8px; cursor: pointer; font-size: 16px; display: flex; align-items: center; justify-content: center; color: var(--muted); transition: all 0.15s; }
.m-close:hover { background: var(--line); color: var(--ink); }
.m-body { flex: 1; overflow-y: auto; padding: 16px 24px; }
.mrow { display: flex; align-items: center; gap: 12px; padding: 10px 12px; border-radius: 10px; border: 1px solid var(--line); margin-bottom: 6px; cursor: pointer; transition: all 0.15s; }
.mrow:hover { background: #f9fafb; border-color: #d0d5dd; }

/* TOAST */
.toast-box { position: fixed; top: 72px; right: 18px; z-index: 500; display: flex; flex-direction: column; gap: 6px; pointer-events: none; }
.toast { padding: 10px 16px; border-radius: 10px; font-size: 12px; font-weight: 700; box-shadow: 0 4px 20px rgba(0,0,0,0.12); pointer-events: auto; animation: tsin .3s cubic-bezier(.34,1.4,.64,1); display: flex; align-items: center; gap: 7px; background: white; border: 1px solid var(--line); }
@keyframes tsin { from{opacity:0;transform:translateX(36px)} to{opacity:1;transform:translateX(0)} }
.toast.success { border-left: 3px solid var(--green); }
.toast.error { border-left: 3px solid var(--red); }
.toast.info { border-left: 3px solid var(--blue); }

@media(max-width:980px) {
  .float-nav { padding: 6px 14px; gap: 8px; }
  .fn-links { display: none; }
  .hero { padding: 80px 20px 60px; }
  .hero-stats { gap: 20px; }
  .section { padding: 60px 20px; }
  .active-inner,.gallery-inner,.creators-inner,.activity-inner,.settings-inner { padding: 0 20px; }
  .active-grid { grid-template-columns: 1fr; }
  .gallery-grid { grid-template-columns: repeat(2,1fr); }
  .activity-grid { grid-template-columns: 1fr; }
  .dot-nav { display: none; }
  .modal { max-width: 100%; max-height: 90vh; }
  .bulk-bar { border-radius: 14px; }
}
@media(prefers-reduced-motion:reduce) { *,*::before,*::after { animation: none !important; transition: none !important; } }
</style>
</head>
<body>

<!-- FLOATING NAV -->
<nav class="float-nav" id="float-nav">
  <a href="#" class="fn-logo">Media <span class="fn-gold">Vault</span></a>
  <div class="fn-links">
    <button class="fn-link active" onclick="scrollTo('hero')">Home</button>
    <button class="fn-link" onclick="scrollTo('active')">Active</button>
    <button class="fn-link" onclick="scrollTo('gallery')">Gallery</button>
    <button class="fn-link" onclick="scrollTo('creators')">Creators</button>
    <button class="fn-link" onclick="scrollTo('activity')">Activity</button>
  </div>
  <div class="fn-right">
    <button class="fn-pill fn-pill-ghost" onclick="openModal('contacts')">üë§ Contacts</button>
    <button class="fn-pill fn-pill-gold" onclick="scrollTo('hero');focusVault()">+ Download</button>
  </div>
</nav>

<!-- DOT NAV -->
<nav class="dot-nav">
  <button class="dn active" title="Hero" onclick="scrollTo('hero')"></button>
  <button class="dn" title="Active" onclick="scrollTo('active')"></button>
  <button class="dn" title="Gallery" onclick="scrollTo('gallery')"></button>
  <button class="dn" title="Creators" onclick="scrollTo('creators')"></button>
  <button class="dn" title="Activity" onclick="scrollTo('activity')"></button>
  <button class="dn" title="Settings" onclick="scrollTo('settings')"></button>
</nav>

<!-- HERO -->
<section id="hero" class="hero">
  <div class="hero-eyebrow">Social media video archiver</div>
  <h1 class="hero-h1">Save what <em>matters.</em><br>Before it disappears.</h1>
  <p class="hero-sub">Download videos from X (Twitter) and TikTok instantly. Professional-grade archiving with real-time progress.</p>

  <div class="vault-form">
    <div class="vault-shell">
      <input class="vault-inp" id="vault-inp" type="text" placeholder="Paste an X or TikTok URL to start downloading‚Ä¶" onkeydown="if(event.key==='Enter')addJob()">
      <button class="vault-btn" onclick="addJob()">Archive Now</button>
    </div>
    <div class="vault-platforms">
      <div class="vp-tag on" id="vp-x" onclick="togglePlatform('x')">
        <span>ùïè</span> X / Twitter
      </div>
      <div class="vp-tag on" id="vp-tiktok" onclick="togglePlatform('tiktok')">
        <span>‚ô™</span> TikTok
      </div>
    </div>
  </div>

  <div class="hero-stats">
    <div class="hstat" onclick="scrollTo('active')">
      <div class="hstat-v" id="hs-total">12</div>
      <div class="hstat-l">Total Jobs</div>
    </div>
    <div class="hstat" onclick="scrollTo('active')">
      <div class="hstat-v gold" id="hs-running">2</div>
      <div class="hstat-l">Running Now</div>
    </div>
    <div class="hstat" onclick="scrollTo('gallery')">
      <div class="hstat-v" id="hs-done">5</div>
      <div class="hstat-l">Completed</div>
    </div>
    <div class="hstat" onclick="scrollTo('creators')">
      <div class="hstat-v" id="hs-contacts">5</div>
      <div class="hstat-l">Creators</div>
    </div>
  </div>

  <div class="scroll-hint" onclick="scrollTo('active')">
    <span>Scroll to explore</span>
    <div class="scroll-arrow"></div>
  </div>
</section>

<!-- ACTIVE DOWNLOADS -->
<div id="active" class="active-section">
  <div class="active-inner">
    <div class="section">
      <div class="sec-eyebrow">In Progress</div>
      <h2 class="sec-h2">Active Downloads</h2>
      <p class="sec-sub">Jobs processing right now. Progress updates every second.</p>
      <div class="active-grid" id="active-grid"></div>
    </div>
  </div>
</div>

<!-- GALLERY -->
<div id="gallery" class="gallery-section">
  <div class="gallery-inner">
    <div class="section">
      <div class="sec-eyebrow">Completed</div>
      <h2 class="sec-h2" style="color:white">Media Gallery</h2>
      <p class="sec-sub" style="color:rgba(255,255,255,0.5)">Your archived collection. All downloads ready to access.</p>
      <div class="gallery-grid" id="gallery-grid"></div>
    </div>
  </div>
</div>

<!-- CREATORS -->
<div id="creators" class="creators-section">
  <div class="creators-inner">
    <div class="section">
      <div class="sec-eyebrow">Tracked Accounts</div>
      <h2 class="sec-h2">Creator Profiles</h2>
      <p class="sec-sub">All creators you've downloaded from. Click to view their full download history.</p>
      <div class="creators-scroll" id="creators-grid"></div>
    </div>
  </div>
</div>

<!-- ACTIVITY -->
<div id="activity" class="activity-section">
  <div class="activity-inner">
    <div class="section">
      <div class="sec-eyebrow">Live Feed</div>
      <h2 class="sec-h2">Activity Timeline</h2>
      <p class="sec-sub">Real-time log of all system events and download progress.</p>
      <div class="activity-grid">
        <div class="timeline" id="timeline"></div>
        <div class="activity-sidebar">
          <div class="act-card">
            <div class="act-card-title">Performance</div>
            <div class="act-kpi">
              <div class="act-kpi-v" id="act-done-count">5</div>
              <div class="act-kpi-l">Jobs completed today</div>
            </div>
            <div>
              <div class="act-bar-row"><span class="act-bar-lbl">Completed</span><div class="act-bar" style="flex:1"><div class="act-bar-fill" id="bar-completed" style="width:42%"></div></div><span class="act-bar-pct">42%</span></div>
              <div class="act-bar-row"><span class="act-bar-lbl">Running</span><div class="act-bar" style="flex:1"><div class="act-bar-fill" style="width:17%;background:#fbbf24"></div></div><span class="act-bar-pct">17%</span></div>
              <div class="act-bar-row"><span class="act-bar-lbl">Queued</span><div class="act-bar" style="flex:1"><div class="act-bar-fill" style="width:25%;background:#93c5fd"></div></div><span class="act-bar-pct">25%</span></div>
              <div class="act-bar-row"><span class="act-bar-lbl">Failed</span><div class="act-bar" style="flex:1"><div class="act-bar-fill" style="width:17%;background:#f87171"></div></div><span class="act-bar-pct">17%</span></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- SETTINGS -->
<div id="settings" class="settings-section">
  <div class="settings-inner">
    <div class="section">
      <div class="sec-eyebrow">Configuration</div>
      <h2 class="sec-h2">Platform Settings</h2>
      <div class="settings-grid">
        <div class="setting-card">
          <div class="setting-ico" style="background:#f3f4f6">ùïè</div>
          <div class="setting-info"><div class="setting-name">X / Twitter</div><div class="setting-desc">Download tweets &amp; threads</div></div>
          <label class="tgl"><input type="checkbox" checked onchange="showToast('X '+(this.checked?'enabled':'disabled'),this.checked?'success':'info')"><span class="tgl-tr"></span></label>
        </div>
        <div class="setting-card">
          <div class="setting-ico" style="background:#fdf4ff">‚ô™</div>
          <div class="setting-info"><div class="setting-name">TikTok</div><div class="setting-desc">Download TikTok videos</div></div>
          <label class="tgl"><input type="checkbox" checked onchange="showToast('TikTok '+(this.checked?'enabled':'disabled'),this.checked?'success':'info')"><span class="tgl-tr"></span></label>
        </div>
        <div class="setting-card">
          <div class="setting-ico" style="background:#eff6ff">üîÑ</div>
          <div class="setting-info"><div class="setting-name">Auto Retry</div><div class="setting-desc">Retry failed jobs automatically</div></div>
          <label class="tgl"><input type="checkbox"><span class="tgl-tr"></span></label>
        </div>
        <div class="setting-card">
          <div class="setting-ico" style="background:#ecfdf5">üì∫</div>
          <div class="setting-info"><div class="setting-name">HLS Streams</div><div class="setting-desc">Enable ffmpeg HLS download</div></div>
          <label class="tgl"><input type="checkbox" checked><span class="tgl-tr"></span></label>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- BULK BAR -->
<div class="bulk-bar" id="bulk-bar">
  <span class="bbcnt" id="bbcnt">0 selected</span>
  <div style="display:flex;gap:6px">
    <button class="bbbtn bbbtn-retry" onclick="bulkRetry()">‚Üª Retry</button>
    <button class="bbbtn bbbtn-del" onclick="bulkDel()">üóë Delete</button>
    <button class="bbbtn bbbtn-cancel" onclick="clearSel()">‚úï</button>
  </div>
</div>

<!-- CONTACTS MODAL -->
<div class="overlay" id="overlay-contacts">
  <div class="modal">
    <div class="m-hd">
      <span style="font-size:22px">üë§</span>
      <div><div class="m-name">Creator Contacts</div><div class="m-sub">All tracked creators</div></div>
      <button class="m-close" style="margin-left:auto" onclick="closeModal('contacts')">‚úï</button>
    </div>
    <div class="m-body" id="contacts-body"></div>
  </div>
</div>

<!-- CREATOR PROFILE MODAL -->
<div class="overlay" id="overlay-profile">
  <div class="modal">
    <div class="m-hd">
      <div class="m-av" id="prof-av"></div>
      <div><div class="m-name" id="prof-name"></div><div class="m-sub" id="prof-sub"></div></div>
      <div class="m-stats">
        <div><div class="msv" id="prof-dl">0</div><div class="msl">Downloads</div></div>
        <div><div class="msv" id="prof-pend">0</div><div class="msl">Pending</div></div>
      </div>
      <button class="m-close" onclick="closeModal('profile')">‚úï</button>
    </div>
    <div class="m-body" id="prof-body"></div>
  </div>
</div>

<div class="toast-box" id="toast-box"></div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DATA
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const JOBS = [
  {id:'j1',status:'queued',creator:'TechZilla',ck:'techzilla',plt:'x',em:'üñ•Ô∏è',title:'RTX 5090 Deep Dive Review',url:'x.com/techzilla/111',date:'2m ago',prog:null,size:null},
  {id:'j2',status:'queued',creator:'CodeCraft',ck:'codecraft',plt:'tiktok',em:'üíª',title:'Clean Code in 60 Seconds',url:'tiktok.com/@codecraft/222',date:'5m ago',prog:null,size:null},
  {id:'j3',status:'queued',creator:'VoxPop',ck:'voxpop',plt:'x',em:'üéôÔ∏è',title:'AI Interview: Linus Sebastian',url:'x.com/voxpop/333',date:'8m ago',prog:null,size:null},
  {id:'j4',status:'running',creator:'NightOwl',ck:'nightowl',plt:'tiktok',em:'üé¨',title:'Studio Behind The Scenes',url:'tiktok.com/@nightowl/444',date:'1m ago',prog:62,size:null},
  {id:'j5',status:'running',creator:'DataDiver',ck:'datadiver',plt:'x',em:'üìä',title:'ML Pipeline Tutorial 2025',url:'x.com/datadiver/555',date:'3m ago',prog:28,size:null},
  {id:'j6',status:'completed',creator:'TechZilla',ck:'techzilla',plt:'x',em:'üñ•Ô∏è',title:'M4 Mac Mini Hands-on',url:'x.com/techzilla/666',date:'1h ago',prog:null,size:'96 MB'},
  {id:'j7',status:'completed',creator:'CodeCraft',ck:'codecraft',plt:'tiktok',em:'üíª',title:'React 19 New Features',url:'tiktok.com/@codecraft/777',date:'2h ago',prog:null,size:'54 MB'},
  {id:'j8',status:'completed',creator:'NightOwl',ck:'nightowl',plt:'tiktok',em:'üé¨',title:'Cinematic RAW Footage 4K',url:'tiktok.com/@nightowl/888',date:'3h ago',prog:null,size:'142 MB'},
  {id:'j9',status:'completed',creator:'VoxPop',ck:'voxpop',plt:'x',em:'üéôÔ∏è',title:'Podcast: The AI Era',url:'x.com/voxpop/999',date:'4h ago',prog:null,size:'88 MB'},
  {id:'j10',status:'completed',creator:'DataDiver',ck:'datadiver',plt:'x',em:'üìä',title:'Pandas vs Polars Benchmark',url:'x.com/datadiver/1000',date:'5h ago',prog:null,size:'67 MB'},
  {id:'j11',status:'failed',creator:'TechZilla',ck:'techzilla',plt:'x',em:'üñ•Ô∏è',title:'Leaked Pixel 10 Specs',url:'x.com/techzilla/aaa',date:'30m ago',prog:null,size:null},
  {id:'j12',status:'failed',creator:'NightOwl',ck:'nightowl',plt:'tiktok',em:'üé¨',title:'LIVE: Premiere Night',url:'tiktok.com/@nightowl/bbb',date:'45m ago',prog:null,size:null},
];

const CONTACTS = [
  {k:'techzilla',name:'TechZilla',handle:'@techzilla_hd',plt:'x',clr:'#1d4ed8',ini:'TZ',dl:3,fail:1},
  {k:'nightowl',name:'NightOwl',handle:'@nightowl.films',plt:'tiktok',clr:'#9333ea',ini:'NO',dl:2,fail:1},
  {k:'codecraft',name:'CodeCraft',handle:'@codecraft_dev',plt:'tiktok',clr:'#059669',ini:'CC',dl:2,fail:0},
  {k:'voxpop',name:'VoxPop',handle:'@voxpop_media',plt:'x',clr:'#d97706',ini:'VP',dl:2,fail:0},
  {k:'datadiver',name:'DataDiver',handle:'@datadiver_ai',plt:'x',clr:'#7c3aed',ini:'DD',dl:2,fail:0},
];

const EVENTS = [
  {t:'success',ic:'‚úÖ',tx:'Studio Behind The Scenes completed (142 MB)',tm:'1m ago'},
  {t:'info',ic:'üîÑ',tx:'ML Pipeline 2025 ‚Äî 28% progress (HLS segment 14/50)',tm:'3m ago'},
  {t:'info',ic:'üîÑ',tx:'Studio BTS ‚Äî 62% progress (HLS segment 31/50)',tm:'2m ago'},
  {t:'error',ic:'‚ùå',tx:'LIVE: Premiere Night failed ‚Äî TikTok 403 rate limit',tm:'10m ago'},
  {t:'warn',ic:'‚ö†Ô∏è',tx:'Leaked Pixel 10 Specs failed ‚Äî X post unavailable (404)',tm:'12m ago'},
  {t:'info',ic:'üì•',tx:'AI Interview queued ‚Äî X (Twitter) URL detected',tm:'8m ago'},
  {t:'success',ic:'‚úÖ',tx:'Podcast The AI Era completed (88 MB)',tm:'4h ago'},
  {t:'info',ic:'üåê',tx:'Playwright browser context initialized successfully',tm:'4h ago'},
  {t:'success',ic:'‚úÖ',tx:'M4 Mac Mini Hands-on completed (96 MB)',tm:'1h ago'},
  {t:'info',ic:'üì•',tx:'Clean Code in 60s queued ‚Äî TikTok URL detected',tm:'5m ago'},
];

let jobs = [...JOBS];
let sel = new Set();
let jid = 200;

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SCROLL NAV
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const sections = ['hero','active','gallery','creators','activity','settings'];
let activeSect = 0;

function scrollTo(id) {
  const el = document.getElementById(id);
  if (el) el.scrollIntoView({ behavior: 'smooth' });
}

function updateNav() {
  const scrollY = window.scrollY + window.innerHeight / 3;
  let found = 0;
  sections.forEach((id, i) => {
    const el = document.getElementById(id);
    if (el && el.offsetTop <= scrollY) found = i;
  });
  activeSect = found;
  document.querySelectorAll('.dn').forEach((d, i) => d.classList.toggle('active', i === found));
  document.querySelectorAll('.fn-link').forEach((l, i) => {
    const sId = ['hero','active','gallery','creators','activity','settings'][i];
    l.classList.toggle('active', sId && found === sections.indexOf(sId));
  });

  // Reveal sections on scroll
  document.querySelectorAll('.section').forEach(s => {
    const r = s.getBoundingClientRect();
    if (r.top < window.innerHeight * 0.85) s.classList.add('visible');
  });

  // Reveal gallery items
  document.querySelectorAll('.gallery-item').forEach((el, i) => {
    const r = el.getBoundingClientRect();
    if (r.top < window.innerHeight * 0.9) {
      setTimeout(() => el.classList.add('reveal'), i * 80);
    }
  });

  // Reveal creator cards
  document.querySelectorAll('.creator-card').forEach((el, i) => {
    const r = el.getBoundingClientRect();
    if (r.top < window.innerHeight * 0.9) {
      setTimeout(() => el.classList.add('reveal'), i * 100);
    }
  });

  // Reveal timeline items
  document.querySelectorAll('.tl-item').forEach((el, i) => {
    const r = el.getBoundingClientRect();
    if (r.top < window.innerHeight * 0.92) {
      setTimeout(() => el.classList.add('reveal'), i * 60);
    }
  });

  // Nav scroll state
  const nav = document.getElementById('float-nav');
  if (window.scrollY > 80) {
    nav.style.background = 'rgba(15,17,23,0.96)';
    nav.style.boxShadow = '0 8px 40px rgba(0,0,0,0.4)';
  } else {
    nav.style.background = 'rgba(15,17,23,0.9)';
    nav.style.boxShadow = '0 8px 32px rgba(0,0,0,0.3)';
  }
}

window.addEventListener('scroll', updateNav, { passive: true });

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RENDER FUNCTIONS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderActive() {
  const grid = document.getElementById('active-grid');
  grid.innerHTML = '';
  const activeJobs = jobs.filter(j => j.status !== 'completed');
  activeJobs.forEach((j, idx) => {
    const card = document.createElement('div');
    card.className = 'job-card' + (sel.has(j.id) ? ' selected' : '');
    card.id = 'ac-' + j.id;
    const prog = j.prog !== null ? `<div class="jcard-prog-wrap"><div class="jcard-prog-fill" id="pg-${j.id}" style="width:${j.prog}%"></div></div>` : '';
    let acts = '';
    if (j.status === 'failed') acts = `<div class="jcard-actions"><button class="jcard-act primary" onclick="retryJob('${j.id}')">‚Üª Retry</button><button class="jcard-act danger" onclick="delJob('${j.id}')">Delete</button></div>`;
    else if (j.status === 'running') acts = `<div class="jcard-actions" style="opacity:1"><span style="font-size:11px;color:var(--orange);font-weight:700">${j.prog}% ‚Äî Processing‚Ä¶</span></div>`;
    else acts = `<div class="jcard-actions"><button class="jcard-act danger" onclick="delJob('${j.id}')">Delete</button></div>`;
    card.innerHTML = `
      <div class="jcard-status-bar ${j.status}"></div>
      <div class="jcard-body">
        <div class="jcard-top">
          <div class="jcard-thumb">${j.em}</div>
          <div class="jcard-meta">
            <div class="jcard-creator">${j.creator}</div>
            <div class="jcard-title">${j.title}</div>
            <div class="jcard-url">${j.url}</div>
          </div>
          <div class="jcard-check" onclick="togSel(event,'${j.id}')"></div>
        </div>
        <div class="jcard-pills">
          <span class="jcard-pill ${j.plt === 'x' ? 'pill-x' : 'pill-tiktok'}">${j.plt === 'x' ? 'ùïè X' : '‚ô™ TikTok'}</span>
          <span class="jcard-pill pill-status-${j.status}">${j.status}</span>
          <span class="jcard-pill pill-time">${j.date}</span>
        </div>
        ${prog}
        ${acts}
      </div>
    `;
    card.style.opacity = '0';
    card.style.transform = 'translateY(16px)';
    grid.appendChild(card);
    setTimeout(() => {
      card.style.transition = 'opacity 0.4s ease, transform 0.4s ease';
      card.style.opacity = '1';
      card.style.transform = 'translateY(0)';
    }, idx * 80);
  });
  if (activeJobs.length === 0) {
    grid.innerHTML = '<div style="grid-column:1/-1;text-align:center;padding:48px;color:var(--muted)"><div style="font-size:36px;margin-bottom:12px">‚úÖ</div><div style="font-size:14px;font-weight:700">No active jobs. Paste a URL above to start!</div></div>';
  }
}

function renderGallery() {
  const grid = document.getElementById('gallery-grid');
  grid.innerHTML = '';
  jobs.filter(j => j.status === 'completed').forEach((j, i) => {
    const item = document.createElement('div');
    item.className = 'gallery-item';
    const delays = [0.05,0.1,0.15,0.2,0.25,0.3];
    item.style.transitionDelay = (delays[i % delays.length]) + 's';
    item.innerHTML = `
      <div class="gi-thumb">
        <span style="font-size:40px">${j.em}</span>
        <div class="gi-overlay">
          <div class="gi-creator">${j.creator}</div>
          <div class="gi-title">${j.title}</div>
        </div>
      </div>
      <div class="gi-meta">
        <span class="gi-size">${j.size || '‚Äî'}</span>
        <div class="gi-dl" onclick="showToast('Downloading ${j.title}‚Ä¶','info')" title="Download">‚¨á</div>
      </div>
    `;
    grid.appendChild(item);
  });
}

function renderCreators() {
  const grid = document.getElementById('creators-grid');
  grid.innerHTML = '';
  CONTACTS.forEach((c, i) => {
    const cjobs = jobs.filter(j => j.ck === c.k);
    const card = document.createElement('div');
    card.className = 'creator-card';
    card.style.transitionDelay = (i * 0.06) + 's';
    card.innerHTML = `
      <div class="creator-av" style="background:${c.clr}">${c.ini}</div>
      <div class="creator-name">${c.name}</div>
      <div class="creator-handle">${c.handle}</div>
      <span class="creator-platform ${c.plt}">${c.plt === 'x' ? 'ùïè Twitter' : '‚ô™ TikTok'}</span>
      <div class="creator-stats">
        <div class="cstat-box"><div class="cstat-v2">${cjobs.length}</div><div class="cstat-l2">Jobs</div></div>
        <div class="cstat-box"><div class="cstat-v2">${c.dl}</div><div class="cstat-l2">Done</div></div>
        <div class="cstat-box"><div class="cstat-v2">${c.fail}</div><div class="cstat-l2">Failed</div></div>
      </div>
    `;
    card.addEventListener('click', () => openProfile(c));
    grid.appendChild(card);
  });
}

function renderTimeline() {
  const tl = document.getElementById('timeline');
  tl.innerHTML = '';
  EVENTS.forEach((e, i) => {
    const item = document.createElement('div');
    item.className = 'tl-item';
    item.style.transitionDelay = (i * 0.05) + 's';
    item.innerHTML = `
      <div class="tl-dot-col">
        <div class="tl-dot ${e.t}"></div>
        ${i < EVENTS.length - 1 ? '<div class="tl-line"></div>' : ''}
      </div>
      <div class="tl-content">
        <div class="tl-text"><span class="tl-icon">${e.ic}</span>${e.tx}</div>
        <div class="tl-time">${e.tm}</div>
      </div>
    `;
    tl.appendChild(item);
  });
}

function renderContactsModal() {
  const b = document.getElementById('contacts-body');
  b.innerHTML = '';
  CONTACTS.forEach(c => {
    const cjobs = jobs.filter(j => j.ck === c.k);
    const row = document.createElement('div');
    row.innerHTML = `<div style="display:flex;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid var(--line);cursor:pointer" onclick="closeModal('contacts');openProfile(CONTACTS.find(x=>x.k==='${c.k}'))">
      <div style="width:40px;height:40px;border-radius:50%;background:${c.clr};display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:14px;flex-shrink:0">${c.ini}</div>
      <div style="flex:1"><div style="font-weight:700;font-size:14px">${c.name}</div><div style="font-size:11px;color:var(--muted)">${c.handle}</div></div>
      <div style="text-align:right"><div style="font-size:16px;font-weight:800;color:var(--blue)">${cjobs.length}</div><div style="font-size:9px;color:var(--muted)">jobs</div></div>
      <span style="color:var(--muted)">‚Ä∫</span>
    </div>`;
    b.appendChild(row);
  });
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATS COUNTER ANIMATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function animateCounter(el, target, duration = 1200) {
  const start = 0;
  const step = (timestamp) => {
    if (!el._start) el._start = timestamp;
    const progress = Math.min((timestamp - el._start) / duration, 1);
    el.textContent = Math.round(progress * target);
    if (progress < 1) requestAnimationFrame(step);
    else { el._start = null; }
  };
  requestAnimationFrame(step);
}

function updateHeroStats() {
  const el = document.getElementById('hs-total');
  if (el && !el._animated) {
    el._animated = true;
    animateCounter(el, jobs.length);
    animateCounter(document.getElementById('hs-running'), jobs.filter(j=>j.status==='running').length);
    animateCounter(document.getElementById('hs-done'), jobs.filter(j=>j.status==='completed').length);
    animateCounter(document.getElementById('hs-contacts'), CONTACTS.length);
  }
  document.getElementById('hs-total').textContent = jobs.length;
  document.getElementById('hs-running').textContent = jobs.filter(j=>j.status==='running').length;
  document.getElementById('hs-done').textContent = jobs.filter(j=>j.status==='completed').length;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ACTIONS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function addJob() {
  const inp = document.getElementById('vault-inp');
  const url = inp.value.trim();
  if (!url) { inp.focus(); return; }
  const isX = url.includes('x.com') || url.includes('twitter.com');
  const isTT = url.includes('tiktok.com');
  if (!isX && !isTT) { showToast('Only X and TikTok URLs supported', 'error'); return; }
  const nj = {id:'j'+(++jid),status:'queued',creator:isX?'X Creator':'TikTok Creator',ck:isX?'voxpop':'codecraft',plt:isX?'x':'tiktok',em:isX?'ùïè':'‚ô™',title:'New Download',url:url.substring(0,40),date:'just now',prog:null,size:null};
  jobs.unshift(nj);
  inp.value = '';
  renderActive();
  updateHeroStats();
  showToast('Job queued!', 'success');
  scrollTo('active');
}

function delJob(id) {
  jobs = jobs.filter(j => j.id !== id);
  sel.delete(id);
  renderActive(); renderGallery(); updateHeroStats();
  updBulk();
  showToast('Job deleted', 'info');
}

function retryJob(id) {
  const j = jobs.find(x => x.id === id);
  if (!j) return;
  j.status = 'queued'; j.prog = null;
  renderActive(); updateHeroStats();
  showToast(`Retrying "${j.title}"`, 'info');
}

function togSel(e, id) {
  e.stopPropagation();
  sel.has(id) ? sel.delete(id) : sel.add(id);
  const c = document.getElementById('ac-' + id);
  if (c) c.classList.toggle('selected', sel.has(id));
  const chk = c?.querySelector('.jcard-check');
  if (chk) { chk.style.background = sel.has(id) ? 'var(--blue)' : ''; chk.style.borderColor = sel.has(id) ? 'var(--blue)' : ''; }
  updBulk();
}

function updBulk() {
  const b = document.getElementById('bulk-bar');
  document.getElementById('bbcnt').textContent = sel.size + ' selected';
  b.classList.toggle('on', sel.size > 0);
}

function clearSel() {
  sel.clear();
  document.querySelectorAll('.job-card.selected').forEach(c => c.classList.remove('selected'));
  updBulk();
}

function bulkDel() {
  const n = sel.size;
  jobs = jobs.filter(j => !sel.has(j.id));
  sel.clear(); renderActive(); renderGallery(); updateHeroStats(); updBulk();
  showToast(`Deleted ${n} jobs`, 'info');
}

function bulkRetry() {
  let n = 0;
  sel.forEach(id => {
    const j = jobs.find(x => x.id === id && x.status === 'failed');
    if (j) { j.status = 'queued'; j.prog = null; n++; }
  });
  clearSel(); renderActive(); updateHeroStats();
  showToast(n ? `Retrying ${n} jobs` : 'No failed jobs selected', n ? 'success' : 'info');
}

function togglePlatform(plt) {
  const el = document.getElementById('vp-' + plt);
  el.classList.toggle('on');
  showToast((plt === 'x' ? 'X' : 'TikTok') + (el.classList.contains('on') ? ' enabled' : ' disabled'), el.classList.contains('on') ? 'success' : 'info');
}

function focusVault() { document.getElementById('vault-inp').focus(); }

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MODALS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openModal(id) { document.getElementById('overlay-' + id).classList.add('open'); }
function closeModal(id) { document.getElementById('overlay-' + id).classList.remove('open'); }
document.addEventListener('click', e => {
  document.querySelectorAll('.overlay.open').forEach(o => { if (e.target === o) o.classList.remove('open'); });
});

function openProfile(c) {
  const cjobs = jobs.filter(j => j.ck === c.k);
  const av = document.getElementById('prof-av');
  av.style.background = c.clr; av.textContent = c.ini;
  document.getElementById('prof-name').textContent = c.name;
  document.getElementById('prof-sub').textContent = c.handle + ' ¬∑ ' + (c.plt === 'x' ? 'X (Twitter)' : 'TikTok');
  document.getElementById('prof-dl').textContent = cjobs.filter(j => j.status === 'completed').length;
  document.getElementById('prof-pend').textContent = cjobs.filter(j => j.status !== 'completed').length;
  const body = document.getElementById('prof-body');
  body.innerHTML = '';
  cjobs.forEach(j => {
    const row = document.createElement('div');
    row.className = 'mrow';
    row.innerHTML = `<span style="font-size:20px">${j.em}</span><div style="flex:1;min-width:0"><div style="font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">${j.title}</div><div style="font-size:10px;color:var(--muted)">${j.url} ¬∑ ${j.date}</div></div><span class="jcard-pill pill-status-${j.status}">${j.status}</span>`;
    body.appendChild(row);
  });
  if (!cjobs.length) body.innerHTML = '<div style="text-align:center;padding:32px;color:var(--muted)">No jobs yet</div>';
  openModal('profile');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SIMULATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function simulate() {
  let changed = false;
  jobs.forEach(j => {
    if (j.status === 'running' && j.prog !== null) {
      j.prog = Math.min(j.prog + Math.random() * 7, 100);
      if (j.prog >= 100) {
        j.status = 'completed'; j.prog = null; j.size = Math.round(60 + Math.random() * 100) + ' MB';
        showToast(`"${j.title}" completed!`, 'success');
        changed = true;
      } else {
        const pgEl = document.getElementById('pg-' + j.id);
        if (pgEl) pgEl.style.width = j.prog + '%';
        const acCard = document.getElementById('ac-' + j.id);
        if (acCard) {
          const actEl = acCard.querySelector('.jcard-actions span');
          if (actEl) actEl.textContent = Math.round(j.prog) + '% ‚Äî Processing‚Ä¶';
        }
      }
    }
  });
  const qd = jobs.filter(j => j.status === 'queued'), rn = jobs.filter(j => j.status === 'running');
  if (rn.length < 2 && qd.length > 0 && Math.random() > 0.65) {
    qd[0].status = 'running'; qd[0].prog = 0; changed = true;
  }
  if (changed) { renderActive(); renderGallery(); updateHeroStats(); }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TOAST
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showToast(msg, type = 'info') {
  const b = document.getElementById('toast-box');
  const t = document.createElement('div');
  t.className = 'toast ' + type;
  t.innerHTML = `<span>${{success:'‚úì',error:'‚úï',info:'‚Ñπ'}[type]||'‚Ä¢'}</span> ${msg}`;
  b.appendChild(t);
  setTimeout(() => {
    t.style.opacity = '0'; t.style.transform = 'translateX(36px)'; t.style.transition = 'all .3s';
    setTimeout(() => t.remove(), 300);
  }, 3000);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
document.addEventListener('DOMContentLoaded', () => {
  renderActive();
  renderGallery();
  renderCreators();
  renderTimeline();
  renderContactsModal();
  updateNav();

  // Animate hero counters on load
  setTimeout(() => {
    animateCounter(document.getElementById('hs-total'), jobs.length, 1000);
    animateCounter(document.getElementById('hs-running'), jobs.filter(j=>j.status==='running').length, 800);
    animateCounter(document.getElementById('hs-done'), jobs.filter(j=>j.status==='completed').length, 1100);
    animateCounter(document.getElementById('hs-contacts'), CONTACTS.length, 700);
    document.getElementById('hs-total')._animated = true;
  }, 1200);

  setInterval(simulate, 2200);
});
</script>
</body>
</html>
